(function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.TeleportVR=t()})(this,function(){"use strict";var e=function(e,t){var n=new THREE.Group;n.add(t),e.add(n);var o=new THREE.Object3D;n.add(o);var i=new THREE.QuadraticBezierCurve3(new THREE.Vector3(0,0,0),new THREE.Vector3(1,3,-1),new THREE.Vector3(2,0,-2)),r=20;return{add:function(e){n.add(e)},target:o,curve:i,teleport:function(e){o.getWorldPosition(n.position),o.getWorldQuaternion(n.quaternion)},update:function(e){var t=new THREE.Vector3(0,0,-1);t.applyQuaternion(e.quaternion),o.position.set(t.x*r,0,t.z*r),i.v0.copy(o.position),i.v2.copy(e.position),i.v2.add((new THREE.Vector3).setFromMatrixPosition(e.standingMatrix));var n=new THREE.Object3D;n.position.copy(i.v2),n.quaternion.copy(e.quaternion),n.translateZ(-3),i.v1.copy(n.position)}}};return e});